<!DOCTYPE HTML>
</header>


<!-- Nav -->
<nav id="nav">
<ul class="links">
<li class="active"><a href="index.html">Map</a></li>
<li><a href="basin.html">Nuussuaq Basin</a></li>
<!-- Replace these three with your actual landslide IDs/titles -->
<li><a href="landslide.html?id=karrat-2017">Karrat 2017</a></li>
<li><a href="landslide.html?id=ilimanaq-2021">Ilimanaq 2021</a></li>
<li><a href="landslide.html?id=event-3">Event 3</a></li>
<li><a href="monitoring.html">Monitoring</a></li>
</ul>
<ul class="icons"></ul>
</nav>


<!-- Main (optional content under map) -->
<div id="main">
<section class="post">
<header class="major">
<h2>About this project</h2>
</header>
<p>
This site explores how climate change is affecting Greenland’s landscapes,
with a focus on landslides and their cascading effects. Use the map above to pan and zoom.
Click the Nuussuaq Basin outline to dive into a detailed view with event markers.
</p>
</section>
</div>


<!-- Footer -->
<footer id="footer">
<section>
<h3>Credits</h3>
<p>Basemap © OpenStreetMap contributors. Design: <a href="https://html5up.net">HTML5 UP</a>. Map: <a href="https://leafletjs.com">Leaflet</a>.</p>
</section>
</footer>


<div id="copyright">
<ul><li>&copy; <script>document.write(new Date().getFullYear());</script> Greenland Landslides</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
</div>


</div><!-- /#wrapper -->


<!-- Massively core scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>


<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>


<!-- Map init + clickable basin overlay -->
<script>
// Initialize map
const map = L.map('map', { zoomControl: true });


// Basemaps
const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);
const esriSat = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
attribution: 'Tiles &copy; Esri'
});
L.control.layers({ 'OSM': osm, 'Satellite': esriSat }, {}).addTo(map);


// Fit to Greenland-ish bounds
const greenlandBounds = L.latLngBounds([[58.5, -75], [83.7, -10]]);
map.fitBounds(greenlandBounds.pad(0.05));


// Load Nuussuaq Basin polygon and make it clickable → basin.html
fetch('data/basin.geojson', { cache: 'no-store' })
.then(r => r.ok ? r.json() : Promise.reject('No data/basin.geojson found'))
.then(geo => {
const basinStyle = (f) => ({
color: '#0ea5e9', weight: 2, fillColor: '#0ea5e9', fillOpacity: 0.08,
className: 'clickable-basin'
});
const basinHover = { weight: 3, fillOpacity: 0.18 };


const basin = L.geoJSON(geo, {
style: basinStyle,
onEachFeature: (f, layer) => {
const name = f.properties?.name || 'Nuussuaq Basin';
layer.bindTooltip(name, { sticky: true });
layer.on('mouseover', () => layer.setStyle(basinHover));
layer.on('mouseout', () => layer.setStyle(basinStyle()));
layer.on('click', () => { location.href = 'basin.html'; });
}
}).addTo(map);
})
.catch(err => { /* optional: silently ignore if missing */ console.warn(err); });
</script>
</body>
</html>
